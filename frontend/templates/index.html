<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wendler 5/3/1 Workout Calculator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <h1>Wendler 5/3/1 Workout Calculator</h1>
    
    <section>
        <h2>Understanding 5/3/1</h2>
        <p>
            5/3/1 is a strength training program designed to build strength progressively.
            The program works by using a percentage of your 1-rep max (1RM) for each lift, known as your "training max."
            Your training max is calculated as 90% of your 1RM. Each week, you perform sets based on a percentage of this training max.
        </p>
        <p>
            After completing a four-week cycle, you can increase your training max by 5 lbs for upper body lifts (bench press, overhead press) 
            and by 10 lbs for lower body lifts (squat, deadlift) before starting the next cycle.
        </p>
    </section>

    <form method="post">
        <label for="bench_1rm">Bench 1RM:</label>
        <input type="number" id="bench_1rm" name="bench_1rm" required><br><br>

        <label for="squat_1rm">Squat 1RM:</label>
        <input type="number" id="squat_1rm" name="squat_1rm" required><br><br>
        
        <label for="ohp_1rm">Overhead Press 1RM:</label>
        <input type="number" id="ohp_1rm" name="ohp_1rm" required><br><br>

        <label for="deadlift_1rm">Deadlift 1RM:</label>
        <input type="number" id="deadlift_1rm" name="deadlift_1rm" required><br><br>
        
        <input type="submit" value="Calculate Workout">
    </form>

    {% if error %}
        <p style="color:red;">{{ error }}</p>
    {% endif %}
    
    {% if workout_plan %}
        <h2>Your Workout Plan</h2>
        {% for week, lifts in workout_plan.items() %}
            <h3>{{ week }}</h3>
            {% for lift, sets in lifts.items() %}
                <strong>{{ lift }}:</strong>
                <span>
                    {% for reps, weight in sets %}
                        {{ reps }} x {{ weight }}{% if not loop.last %}, {% endif %}
                    {% endfor %}
                </span>
                <br><br>
            {% endfor %}
        {% endfor %}
    {% endif %}
</body>
</html>
